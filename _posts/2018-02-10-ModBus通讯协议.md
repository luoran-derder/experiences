---
layout: default
title: ModBus通讯协议
---

<h2>{{ page.title }}</h2>

- ModBus:Modbus协议是应用于电子控制器上的一种通用语言。通过此协议，控制器相互之间、控制器经由网络（例如以太网）和其它设备之间可以通信。它已经成为一种通用工业标准。
- 网上关于ModBus的文档也有很多很多，而且说的很繁杂，不易于理解。首先ModBus就是一个协议，就是大家约定俗成的规范，就像我们拿着一个水果，大家约定俗成叫它苹果，好吧，这个东西以后大家就叫它苹果，就这么简单。接下来我会举一个例子，大家对modbus就会豁然开朗了。
- 学习modbus必须熟练掌握各种进制之间的转换，这是最低要求。modbus用来干什么，那就要介绍它的常用的功能码了
<p>01H(读线圈寄存器)</p>
<p>02H(读离散输入寄存器)</p>
<p>03H(读保持寄存器)</p>
<p>04H(读输入寄存器)</p>
<p>05H(写单个线圈寄存器)</p>
<p>06H(写单个保持寄存器)</p>
<p>10H(写多个保持寄存器)</p>
<p>接下来读一个寄存器(读取的离散输入寄存器的起始地址为00C4H，读取22个寄存器,假设从机的地址为01H)，从机简单理解就是接在总线上的一个设备(也叫做device地址)</p>
- 读离散寄存器的指令:01(device地址)02(功能码)00(起始地址高位)C4(起始地址低位)00(寄存器数量高位)16(寄存器地址地位)B8(CRC校验高位)39(CRC校验低位) 
